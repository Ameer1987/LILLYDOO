{% extends 'base.html.twig' %}

{% block body %}
    <h1>Addressbook edit</h1>

    {{ form_start(edit_form) }}
    {{ form_widget(edit_form) }}
    <input type="submit" value="Edit"/>
    {{ form_end(edit_form) }}

    <ul>
        <li>
            <a href="{{ path('addressbook_index') }}">Back to the list</a>
        </li>
        <li>
            {{ form_start(delete_form) }}
            <input type="submit" value="Delete">
            {{ form_end(delete_form) }}
        </li>
    </ul>
{% endblock %}

{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $('#appbundle_addressbook_country').on('change', function () {
            $('#appbundle_addressbook_city option[data-country-id!=' + $(this).val() + ']').hide();
            $('#appbundle_addressbook_city option[data-country-id=' + $(this).val() + ']').show();
            $('#appbundle_addressbook_city').val('');
        });
        $('#appbundle_addressbook_city option[data-country-id!=' + $('#appbundle_addressbook_country').val() + ']').hide();
    </script>
{% endblock %}